(function(n){"use strict";n.module("CustomerPortalApp",["ui.router","ui.bootstrap"]);n.element(document).ready(function(){n.bootstrap(window.document,["CustomerPortalApp"])})})(window.angular);const environment={production:!1,apiUrl:"http://localhost:60074/api/"};(function(n){"use strict";function t(n,t){t.otherwise("/login/");n.state("login",{url:"/login/:customerId",templateUrl:"Partials/pages/login.html",controller:"LoginController",controllerAs:"loginCtrl"}).state("bills",{url:"/bills/:customerId",templateUrl:"Partials/pages/bills.html",controller:"BillController",controllerAs:"billCtrl"}).state("contracts",{url:"/contracts/:customerId",templateUrl:"Partials/pages/contracts.html",controller:"ContractController",controllerAs:"contractCtrl"}).state("reports",{url:"/reports/:customerId",templateUrl:"Partials/pages/reports.html"}).state("dashboard",{url:"/dashboard/:customerId",templateUrl:"Partials/pages/dashboard.html",controller:"DashboardController",controllerAs:"dashboardCtrl"})}n.module("CustomerPortalApp").config(t);t.$inject=["$stateProvider","$urlRouterProvider"]})(window.angular),function(n){"use strict";function t(n){n.$on("$stateChangeError",console.log.bind(console))}n.module("CustomerPortalApp").run(t);t.$inject=["$rootScope"]}(window.angular),function(n){"use strict";function t(n,t,i){var r=this;r.data={customerId:""||t.params.customerId,bills:""};r.getBills=function(){i.get(environment.apiUrl+r.data.customerId+"/bills").then(function(n){r.data.bills=n.data;console.log(n.data)})};r.getBills()}n.module("CustomerPortalApp").controller("BillController",t);t.$inject=["$scope","$state","$http"]}(window.angular),function(n){"use strict";function t(n,t,i){var r=this;r.data={customerId:""||t.params.customerId,contracts:""};r.getContracts=function(){i.get(environment.apiUrl+"/contracts/all/"+r.data.customerId).then(function(n){r.data.contracts=n.data;console.log(n.data)})};r.getContracts()}n.module("CustomerPortalApp").controller("ContractController",t);t.$inject=["$scope","$state","$http"]}(window.angular),function(n){"use strict";function t(n,t,i){var r=this;r.data={customerId:""||t.params.customerId,bills:"",reports:"",contracts:""};r.getBills=function(){i.get(environment.apiUrl+r.data.customerId+"/bills").then(function(n){r.data.bills=n.data;console.log(n.data)})};r.getReports=function(){i.get(environment.apiUrl+"/reports/all/"+r.data.customerId).then(function(n){r.data.reports=n.data;console.log(n.data)})};r.getContracts=function(){i.get(environment.apiUrl+"/contracts/all/"+r.data.customerId).then(function(n){r.data.contracts=n.data;console.log(n.data)})};r.getBills();r.getReports();r.getContracts()}n.module("CustomerPortalApp").controller("DashboardController",t);t.$inject=["$scope","$state","$http"]}(window.angular),function(n){"use strict";function t(t,i,r){var u=this;u.forms={};u.currentForm="login";u.data={customerId:""||i.params.customerId,EMail:"",Password:"",CurrentPassword:"",newPassword:"",newPasswordConfirm:""};u.isFormValid=function(){if(!u.forms.hasOwnProperty("login"))return!1;const t=u.forms.login;if(n.isUndefined(t))return!1;return t.$valid===!0&&t.$dirty===!0};u.login=function(){if(u.isFormValid()){const n={eMail:u.data.EMail,password:u.data.Password};r({method:"post",url:environment.apiUrl+"customers/login",data:n}).then(function(n){if(n.data===0){console.log("result was 0");return}console.log(n.data);i.go("dashboard",{customerId:n.data})})}};u.changePassword=function(){if(u.data.newPassword!==u.data.newPasswordConfirm){console.log("passwords did not match");return}var n={customerId:u.data.customerId,oldPassword:u.data.oldPassword,newPassword:u.data.newPassword};r({method:"post",url:environment.apiUrl+"customers/changePassword",data:n})};u.showForm=function(n){switch(n){case"changePassword":case"login":u.currentForm=n;break;default:throw new TypeError('Expected form name to be "changePassword" or "login".'+n);}}}n.module("CustomerPortalApp").controller("LoginController",t);t.$inject=["$scope","$state","$http"]}(window.angular);